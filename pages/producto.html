<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Detalle del Producto</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <nav class="bg-white shadow p-4 mb-8">
        <div class="container mx-auto">
            <a href="../index.html" class="text-blue-600 font-bold">‚Üê Volver a la Tienda</a>
        </div>
    </nav>
    <div class="container mx-auto px-4" id="detalle-container"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const prodId = urlParams.get('id');
        const productos = JSON.parse(localStorage.getItem('productos')) || [];
        const producto = productos.find(p => p.id == prodId);

        if (producto) {
            document.getElementById('detalle-container').innerHTML = `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden grid grid-cols-1 md:grid-cols-2">
                    <div class="p-8 bg-gray-100 flex items-center justify-center">
                        <img src="${producto.img}" class="max-h-96 object-contain">
                    </div>
                    <div class="p-8 flex flex-col justify-center">
                        <span class="text-sm text-gray-500 uppercase">${producto.categoria}</span>
                        <h1 class="text-4xl font-bold text-gray-800 mb-4">${producto.nombre}</h1>
                        <div class="flex items-center mb-6">
                            <span class="text-3xl font-bold text-blue-600 mr-4">$${producto.precio}</span>
                            <span class="text-sm px-2 py-1 bg-green-100 text-green-700 rounded">Stock: ${producto.stock}</span>
                        </div>
                        <button onclick="agregar()" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-bold hover:bg-blue-700">A√±adir al Carrito üõí</button>
                    </div>
                </div>`;
        } else {
            document.body.innerHTML = "<h1 class='text-center mt-10'>Producto no encontrado</h1>";
        }

        function agregar() {
            let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            carrito.push(producto);
            localStorage.setItem('carrito', JSON.stringify(carrito));
            alert('Producto a√±adido al carrito');
        }
    </script>
</body>
</html>